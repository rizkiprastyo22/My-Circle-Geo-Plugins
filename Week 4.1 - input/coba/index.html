<div class="bg-white" id="indexing">
  <div style="position:absolute;top:10px;left:10px;">

    <form>
      <input type="decimal" id="myNumber" placeholder="Lattitude">
      <input type="decimal" id="myNumber2" placeholder="Longitude">
      <input type="submit" id="btnmyNumber">
    </form>

    <!-- <input type="text" name="search" id="search"
      class="focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 py-1 sm:text-sm border-gray-300 rounded-md"
      placeholder=" Cari lokasi .." /> -->

  </div>
  <!-- <script type="application/javascript">
    var kosJson = { type: "FeatureCollection", bbox: [110.340501, -7.791898, 110.397112, -7.725499], features: [ { type: "Feature", properties: { group_index: 0, value: 150, center: [110.37306445531925, -7.763547310456208], "name": "inner", }, geometry: { coordinates: [ [ [110.358458, -7.761048], [110.359775, -7.766934], [110.361067, -7.768489], [110.366009, -7.777826], [110.367841, -7.778932], [110.367974, -7.778939], [110.376953, -7.774523], [110.383649, -7.769544], [110.387071, -7.767945], [110.387082, -7.767919], [110.383509, -7.758643], [110.382457, -7.756286], [110.373039, -7.749695], [110.372394, -7.748937], [110.372202, -7.748859], [110.368253, -7.748905], [110.360261, -7.755119], [110.358998, -7.759105], [110.358458, -7.761048], ], ], type: "Polygon", }, }, { type: "Feature", properties: { group_index: 0, value: 300, center: [110.37306445531925, -7.763547310456208], "name": "outer", }, geometry: { coordinates: [ [ [110.340501, -7.746678], [110.341258, -7.748806], [110.341277, -7.748819], [110.343561, -7.748573], [110.348078, -7.749304], [110.353, -7.756003], [110.353117, -7.758348], [110.354103, -7.764105], [110.353904, -7.767563], [110.354281, -7.76994], [110.357199, -7.777858], [110.356138, -7.782538], [110.356133, -7.782576], [110.356158, -7.782917], [110.358465, -7.789169], [110.358507, -7.789195], [110.367208, -7.791898], [110.3694, -7.791342], [110.370042, -7.791178], [110.376603, -7.788949], [110.376837, -7.78849], [110.377084, -7.787395], [110.384376, -7.779797], [110.386823, -7.779643], [110.38716, -7.779556], [110.390712, -7.776963], [110.39405, -7.770693], [110.396416, -7.764533], [110.396462, -7.7643], [110.396851, -7.761966], [110.396888, -7.761722], [110.397112, -7.759593], [110.396004, -7.757578], [110.395933, -7.757549], [110.391175, -7.753969], [110.391352, -7.74469], [110.391456, -7.74451], [110.390382, -7.742087], [110.390333, -7.74207], [110.382548, -7.734621], [110.382079, -7.727715], [110.381049, -7.725737], [110.380802, -7.725521], [110.380721, -7.725499], [110.378725, -7.726407], [110.378649, -7.726603], [110.376259, -7.730874], [110.364958, -7.727939], [110.36474, -7.72723], [110.364669, -7.727001], [110.362468, -7.726045], [110.362352, -7.726083], [110.361228, -7.728059], [110.355288, -7.737032], [110.349829, -7.740159], [110.344099, -7.742356], [110.342559, -7.743532], [110.342056, -7.744127], [110.340501, -7.746678], ], ], type: "Polygon", }, }, ], metadata: { attribution: "openrouteservice.org | OpenStreetMap contributors", service: "isochrones", timestamp: 1623658989426, query: { locations: [[110.37313501406109, -7.763440484516543]], range: [300, 150], }, engine: { version: "6.5.0", build_date: "2021-05-17T12:08:50Z", graph_date: "2021-05-31T22:36:37Z", }, }, };
  </script> -->
  <script type="application/javascript">

    // cara dapet Map
    var map = window.globalMap;
    var layergroup = L.layerGroup().addTo(map);
    map.setView([-7.758434391887062, 110.3731448524451], 14);

    /*==============================================
                        BASEMAP SELECTION
    ================================================*/
    // Google Streets
    var googleStreets = L.tileLayer(
      "http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",
      {
        maxZoom: 20,
        subdomains: ["mt0", "mt1", "mt2", "mt3"]
      }
    ).addTo(layergroup);

    // Watercolor
    var watercolor = L.tileLayer(
      "https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",
      {
        attribution:
          'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        subdomains: "abcd",
        minZoom: 1,
        maxZoom: 16,
        ext: "jpg"
      }
    );

    // OSM layer
    var osm = L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution:
        '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    // Dark map
    var dark = L.tileLayer(
      "https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",
      {
        attribution:
          '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
        subdomains: "abcd",
        maxZoom: 20
      }
    );

    // Google satellite
    var googleSat = L.tileLayer(
      "http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",
      {
        maxZoom: 20,
        subdomains: ["mt0", "mt1", "mt2", "mt3"]
      }
    );

    /*==============================================
                      Get GeoJson
    ================================================*/
    var el = document.getElementById("btnmyNumber")
    if (el) {
      el.addEventListener('click', myFunctionVar, false);
      function myFunctionVar() {
        var number = parseInt(document.getElementById("myNumber").value, 10);
        var number2 = parseInt(document.getElementById("myNumber2").value, 10);
        // alert(number);
        // alert(number2);
      }
    }

    const body = { "locations": [[110.37313501406109, -7.763440484516543]], "range": [300] };

    fetch("https://api.openrouteservice.org/v2/isochrones/driving-car", {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': '5b3ce3597851110001cf6248b270d4cb28b649d29ae88233bfeb11e0'
      },
      body: JSON.stringify(body)
    }).then(response => response.json()).then((res) => {
      var kosJson = res;
      L.geoJSON(kosJson, {
        style: this.styling
      }).addTo(layergroup);
    });

    // const body = {"locations":[[110.37313501406109,-7.763440484516543]],"range":[300]};

    /*==============================================
                      Ovlerlay
    ================================================*/
    // var kosData = L.geoJSON(kosJson, {
    //     onEachFeature: function (feature, layer) {
    //       layer.bindPopup(`5 menit dari kos`)
    //     },
    //     style: this.styling
    // }).addTo(layergroup);

    /*==============================================
                    LAYER CONTROL
    ================================================*/
    var baseMaps = {
      "Google Street": googleStreets,
      "Open Street Map": osm,
      "Dark Mode Map": dark,
      "Google Satellite": googleSat
      // "Watercolor Map": watercolor
    };
    var overlayMaps = {
      // "5 menit dari kos": kosData
    };

    // this.map.removeLayer(signature);

    L.control
      .layers(baseMaps, overlayMaps, { collapsed: false })
      .addTo(window.globalMap);

    // Put zoom control in bottom right
    L.control
      .zoom({
        position: "bottomright"
      })
      .addTo(window.globalMap);

    function styling(e) {
      return {
        fillColor: this.getColor(e.properties.name), // javascript khususnya di vue , akses methods selalu this.
        fillOpacity: 0.4,
        opacity: 0.5,
        color: "red",
      };
    }

    function getColor(d) {
      return "#800026";
    }

  </script>
</div>